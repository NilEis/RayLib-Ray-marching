#version 400

uniform sampler2D texture0;
in vec4 fragColor;

in vec2 fragTexCoord;
uniform vec4 colDiffuse;

const highp float m[49] = float[49] (0.000036, 0.000363, 0.001446, 0.002291, 0.001446, 0.000363, 0.000036, 0.000363, 0.003676, 0.014662, 0.023226, 0.014662, 0.003676, 0.000363, 0.001446, 0.014662, 0.058488, 0.092651, 0.058488, 0.014662, 0.001446, 0.002291, 0.023226, 0.092651, 0.146768, 0.092651, 0.023226, 0.002291, 0.001446, 0.014662, 0.058488, 0.092651, 0.058488, 0.014662, 0.001446, 0.000363, 0.003676, 0.014662, 0.023226, 0.014662, 0.003676, 0.000363, 0.000036, 0.000363, 0.001446, 0.002291, 0.001446, 0.000363, 0.000036);

void main() {
    vec4 texel = vec4(0.0);
    texel.a = 1.0;
    for(int y = -3; y < 4; y++) {
        for(int x = -3; x < 4; x++) {
            texel.rgb += texture(texture0, vec2(fragTexCoord.x + x, fragTexCoord.y + y)).rgb * m[7 * (y + 3) + (x + 3)];
        }
    }
    gl_FragColor = texel;
}